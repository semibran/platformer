"use strict";var _slicedToArray=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var e=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(e.push(a.value),!r||e.length!==r);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return e}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=function(t){var r=!0,e=!1,n=void 0;try{for(var o,i=t.actors[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var a=o.value;a.hitbox.position[0]+=a.velocity[0],a.hitbox.position[1]+=a.velocity[1],a.velocity[1]+=t.gravity}}catch(t){e=!0,n=t}finally{try{!r&&i.return&&i.return()}finally{if(e)throw n}}},r=function(t,r){var e=0;"left"===r?e=-1:"right"===r&&(e=1),t.velocity[0]=t.stats.speed*e},e=function(t){t.ground&&(t.velocity[1]=-t.stats.jump)},n=function t(r){var e="";for(var n in r){var o=r[n];"object"===(void 0===o?"undefined":_typeof(o))?e+=n+"{"+t(o)+"}":e+=n+":"+o+";"}return e},o=function(t,r,e){var o=r.world,i=r.viewport;return t("div",{class:"world",style:n({width:i.size[0]+"px",height:i.size[1]+"px"})},o.actors.map(function(r){var e=_slicedToArray(r.hitbox.halfsize,2),o=e[0],i=e[1],a=_slicedToArray(r.hitbox.position,2),u=a[0],l=a[1];return t("div",{class:"actor",style:n({width:2*o+"px",height:2*i+"px",left:u-o+"px",top:l-i+"px"})})}))},i=function t(r,e){var n=r.tagName,o=r.attributes,i=r.childNodes;if((void 0===n?"undefined":_typeof(n))!==_typeof(e.tag)||n!==e.tag){var u=r.parentNode;if(u){var l=a(e);return u.replaceChild(l,r),l}return r}for(var c=0;c<o.length;c++){var f=o[c].name;e.attributes[f]||r.removeAttribute(f)}for(var f in e.attributes){var d=e.attributes[f];"function"==typeof d?r[f]!==d&&(r[f]=d):r.getAttribute(f)!==d.toString()&&r.setAttribute(f,d)}for(c=e.children.length;c<i.length;c++){var s=i[c];(v=e.children[c])||r.removeChild(s)}for(c=0;c<e.children.length;c++){s=i[c];var v=e.children[c];s?s instanceof Element||"object"===(void 0===v?"undefined":_typeof(v))?t(s,v):s.data!==v&&(s.data=v):r.appendChild(a(v))}return r};function a(t){if("object"!==(void 0===t?"undefined":_typeof(t)))return document.createTextNode(t);var r=document.createElement(t.tag);for(var e in t.attributes){var n=t.attributes[e];r.setAttribute(e,n)}for(var o=0;o<t.children.length;o++){var i=t.children[o];r.appendChild(a(i))}return r}var u,l,c=function(t,r,e){return{tag:t,attributes:r||{},children:e||[]}},f=(u=function(t,r){var e=o(c,t,r);i(d,e)},(l={state:{world:{gravity:.25,actors:[{stats:{speed:1.296875,jump:-4.87109375},hitbox:{halfsize:[8,12],position:[128,120]},velocity:[0,0],ground:null}]},viewport:{size:[256,240],position:[128,120]}},actions:null}).actions=function t(r){var e={};for(var n in r)"object"===_typeof(r[n])?e[n]=t(r[n]):e[n]=function(t){return t=t.bind(null,l.state),function(){var r=t.apply(null,arguments);return u(l.state,l.actions),r}}(r[n]);return e}({world:{update:function(r){var e=r.world;t(e)}},actor:{move:function(t,e){var n=_slicedToArray(t.world.actors,1)[0];r(n,e)},jump:function(t){var r=_slicedToArray(t.world.actors,1)[0];e(r)}}}),l),d=o(function(t,r,e){if(!t)return null;var n=document.createElement(t);for(var o in r){var i=r[o];n[o]=i,n.setAttribute(o,i)}if(e)for(var a=0;a<e.length;a++){var u=e[a];u instanceof Element||(u=document.createElement("child")),n.appendChild(u)}return n},f.state,f.actions);document.body.appendChild(d),requestAnimationFrame(function t(){f.actions.world.update();requestAnimationFrame(t)})}();